{
  "$schema": "https://opencode.ai/config.json",
  "model": "devstral-small-2",
  "instructions": [
    "instructions.md",
    "1. PLANNING: Always use 'sequential-thinking' for every task. Never skip steps.",
    "2. GROUNDING: Before generating code for a library, use 'context7' or 'fetch' to check the current documentation.",
    "3. VERIFICATION: After editing, run 'cclsp' diagnostics. If valid, use 'shell' to run 'npm test' or 'node --check' to confirm logic.",
    "4. DIFF CHECK: Run 'git_status' and 'git_diff' to ensure zero unexpected side effects."
  ],
  "plugins": ["opencode-pty", "opencode-md-table-formatter"],
  "permission": {
    "edit": "ask",
    "bash": "ask"
  },
  "mcpServers": {
    // [CRITICAL] Reasoning & Planning
    "sequential-thinking": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-sequential-thinking"],
      "enabled": true
    },
    // [NEW] Grounding: Documentation (User Requested)
    "context7": {
      "type": "local",
      "command": ["npx", "-y", "@upstash/context7-mcp"],
      "enabled": true
    },
    // [NEW] Grounding: Deep-Dive Web Content
    // Allows reading full documentation pages found via web-search.
    "fetch": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-fetch"],
      "enabled": true
    },
    // [NEW] Verification: The "Hallucination Killer"
    // Allows the model to run `ls`, `npm test`, or `grep` to see if its assumptions are true.
    "shell": {
      "type": "local",
      "command": ["npx", "-y", "@prodigy9/mcp-server-shell"],
      "enabled": true
    },
    // [UPGRADE] Grounding: Official Filesystem
    // More robust than desktop-commander for standard file ops.
    "filesystem": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-filesystem", "."],
      "enabled": true
    },
    "cclsp": {
      "type": "local",
      "command": ["npx", "-y", "cclsp"],
      "enabled": true
    },
    "web-search": {
      "type": "local",
      "command": ["npx", "-y", "web-search-mcp"],
      "enabled": true
    },
    "git": {
      "type": "local",
      "command": ["npx", "-y", "@mseep/git-mcp-server"],
      "enabled": true
    },
    "memory": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-memory"],
      "enabled": true
    }
  }
}
